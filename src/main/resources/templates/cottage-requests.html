<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>My Reservations</title>
  <th:block th:insert="~{index :: headerfiles}"></th:block>
</head>

<body>
<div th:replace="~{index :: logo-bar}"></div>

<div th:switch="${requests}">
  <h2 th:case="null" >No requests</h2>
  <div th:case="*">
    <h2 >Requests</h2>
    <table>
      <thead>
      <tr>
        <th >User</th>
        <th >Check-in date</th>
        <th >Check-out date</th>
        <th >Total price</th>
        <th >Accept</th>
        <th >Reject</th>
      </tr>
      </thead>
      <tbody>
      <tr th:each="request : ${requests}">
        <td th:text="${users[request.id]}"></td>
        <td th:text="${request.checkInDate}"></td>
        <td th:text="${request.checkOutDate}"></td>
        <td th:text="${request.totalPrice}"></td>
        <td><a th:href="@{/accept(requestId=${request.id})}" class="button edit">Accept</a></td>
        <td><a th:href="@{/reject(requestId=${request.id})}" class="button delete">Reject</a></td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
</body>
</html>